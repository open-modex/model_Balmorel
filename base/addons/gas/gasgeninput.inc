

* RUN only in BB1 or BB2
$ifi %BB3%==yes $goto not_bb1orbb2

$ifi %STORAGEALLOCATIONS%==yes GSFXW(Y,STORE,STORETYPE,S) = SUM(T,IHOURSINST(S,T)*(VINJ.l(STORE,STORETYPE,S,T)-VEXT.l(STORE,STORETYPE,S,T)));
$ifi %STORAGEALLOCATIONS%==yes SC_Y(Y,SCON)       = VSC.l(SCON);


$ifi %CAPACITYALLOCATIONS%==yes TC_EX_Y(SYSEXIT,Y)          = VTC_EX_Y.l(SYSEXIT);
$ifi %CAPACITYALLOCATIONS%==yes TC_EX_M(SYSEXIT,Y,SSS,TTT) = SUM((IMONTH,DAY)$(DAYT(DAY,TTT) and IWHEN(IMONTH,SSS,DAY)), VTC_EX_M.l(SYSEXIT,IMONTH));

$ifi %CAPACITYALLOCATIONS%==yes TC_EN_Y(SYSENTRY,Y)          = VTC_EN_Y.l(SYSENTRY);
$ifi %CAPACITYALLOCATIONS%==yes TC_EN_M(SYSENTRY,Y,SSS,TTT) = SUM((IMONTH,DAY)$(DAYT(DAY,TTT) and IWHEN(IMONTH,SSS,DAY)), VTC_EN_M.l(SYSENTRY,IMONTH));


$ifi %MAKEWATER%==yes HYFXRW_GAS(Y,S,IR)   = SUM(IA$RRRAAA(IR,IA), SUM(IGHYRR$IAGK_Y(IA,IGHYRR),SUM(T,IHOURSINST(S,T)*(VGE_T.l(IA,IGHYRR,S,T))))+SUM(IGHYRS$IAGK_Y(IA,IGHYRS),SUM(T,IHOURSINST(S,T)*(VGE_T.l(IA,IGHYRS,S,T)))));

$ifi %MAKEINVEST%==yes SUPACC(Y,SOURCE)            = SUM(NGINV,SUPEFFECT(NGINV,SOURCE)*VGINFINV.l(NGINV));
$ifi %MAKEINVEST%==yes EXPACC(Y,SOURCE)            = SUM(NGINV,EXPEFFECT(NGINV,SOURCE)*VGINFINV.l(NGINV));
$ifi %MAKEINVEST%==yes INJACC(Y,STORE,STORETYPE)   = VGINVINJ.l(STORE,STORETYPE)+VGINVSTORE.l(STORE,STORETYPE)*GSTOREDATA(STORETYPE,'INJEFFECT');
$ifi %MAKEINVEST%==yes EXTACC(Y,STORE,STORETYPE)   = VGINVEXT.l(STORE,STORETYPE)+VGINVSTORE.l(STORE,STORETYPE)*GSTOREDATA(STORETYPE,'EXTEFFECT');
$ifi %MAKEINVEST%==yes STOREACC(Y,STORE,STORETYPE) = VGINVSTORE.l(STORE,STORETYPE);
$ifi %MAKEINVEST%==yes DEVACC(Y,SYSEXIT)           = SUM((C,GNETSTEPS), GNET_DEV_EFFECT(C,SYSEXIT)*VGNETINV.l(C,GNETSTEPS)) + SUM(NGINV,DEVEFFECT(NGINV,SYSEXIT)*VGINFINV.l(NGINV));

$label not_bb1orbb2
